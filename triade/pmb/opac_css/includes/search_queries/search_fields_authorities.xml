<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- $Id: search_fields_authorities.xml,v 1.10 2019-05-22 09:45:10 ngantier Exp $ -->
<pmbfields>

	<!-- Zone fixedFields :
		Liste des champs de recherche possibles de la base de données
		Chaque champ est modélisé par le tag <field> :
		<field @att=id,title,memoryEngineForbidden> 
			-id : numéro unique arbitraire
			-title : Texte qui sera affiché dans l'écran de recherche
			-memoryEngineForbidden : "yes" interdit l'utilisation du moteur memory pour la création des tables temporaires
			<field> contient les sous tags :
				<input @type> : type de saisie
					-type (text|list) : 
						@type=list (dans le cas d'une saisie par liste), input contient les sous champs :
						 	<queryList> : requete pour récupérer les values de la liste. La requete doit avoir 2 colonnes
										  -la première donne le code à retourner
										  -la deuxième donne le libellé dans la liste
										  
				<query> : requete associée au champ et à l'opérateur
				<query @att=for,multipleWords,regDiacrit>
					-for : nom de l'opérateur auquel correspond la requete 
					 (les opérateurs non listés ne seront pas pris en compte), 
					-multipleWords (yes|no) : la requete tient compte de plusieurs termes saisis avec des espaces
					-regDiacrit (yes|no) : les termes sont passés par la fonction de nettoyage des mots vides et des accents
			 		<query> contient les sous tags :
					
						<main> : Corps principal de la requete, 
							-!!p!! sera remplacé dans la requete par le texte saisi pour la recherche, 
							-!!multiple_term!! (uniquement si multipleWords="yes") sera remplacé par la série 
							 de tests de la clause where pour chaque mot saisi
						
						<multipleTerm> : terme de condition utilisé pour remplacer !!multiple_term!!
						<multipleOperator> : opérateur utilisé entre les termes de conditions 
	-->
	<memoryEngineAllowed>yes</memoryEngineAllowed>
	<fixedFields>
		<field group="1" title="msg:search_extended_authorities_all_fields" id="1102" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
				</class>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_type" id="1001">
			<input type="list">
				<options>
					<option value="70">msg:selector_author_type_pp</option>
					<option value="71">msg:selector_author_type_coll</option>
					<option value="72">msg:congres_libelle</option>
				</options>	
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_type = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_name" id="1002" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1002</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_rejete" id="1003" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1003</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_rejete like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_rejete like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_rejete like '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_date" id="1004" >
			<input type="text" placeholder="msg:format_date_input_text_placeholder" />
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_date like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_date like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_date like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_date like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_date = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_lieu" id="1005" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1005</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_lieu like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_lieu like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_lieu like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_lieu like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_lieu = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_ville" id="1006" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1006</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_ville like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_ville like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_ville like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_ville like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_ville = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_pays" id="1007" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1007</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_pays like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_pays like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_pays = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_subdivision" id="1008" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1008</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_subdivision like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_subdivision like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_subdivision like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_subdivision like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_subdivision = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_numero" id="1009" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1009</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_numero like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_numero like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_numero like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_numero like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_numero = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_site_web" id="1011" >
			<input type="text"/>
			<query for="CONTAINS">
				<main>select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_web like concat('%',replace('!!p!!','*','%'),'%') and author_web != ''</main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_comment" id="1012" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1012</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (!!multiple_term!!)]]></main>
				<multipleTerm>author_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_comment like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_comment like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where author_comment = '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (author_comment is null or author_comment = '')]]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 where (author_comment is not null or author_comment <> '')]]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_concepts" id="1013" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2"/>
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1013</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join index_concept on index_concept.num_object = authors.author_id and index_concept.type_object = 2 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!%' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join index_concept on index_concept.num_object = authors.author_id and index_concept.type_object = 2 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '%!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join index_concept on index_concept.num_object = authors.author_id and index_concept.type_object = 2 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join index_concept on index_concept.num_object = authors.author_id and index_concept.type_object = 2 where index_concept.num_concept = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities where authorities.type_object = 1 and id_authority not in (select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join index_concept on index_concept.num_object = authors.author_id and index_concept.type_object = 2 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!)))]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join index_concept on index_concept.num_object = authors.author_id and index_concept.type_object = 2 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_concepts_autopostage" id="1014">
			<var name="thesaurus_concepts_autopostage" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authors">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1013</values>
						<op>and</op>
					</fieldrestrict>
					<fieldrestrict>
						<field>code_champ</field>
						<values>1014</values>
						<op>or</op>
					</fieldrestrict>
				</class>
			</query>
			<!--<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 where (code_champ = 1013 OR code_champ = 1014) and authority_num = !!p!!]]></main>
			</query>-->
		</field>
		<field group="1" title="msg:search_extended_author_statut" id="1099" >
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts where authorities_statut_available_for like '%"1"%' order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where type_object = 1 and num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_extended_author_aut_link" id="1900" >
			<input type="marc_list">
				<name>aut_link</name>
				<restrictquery>SELECT group_concat(distinct aut_link_type SEPARATOR ',') as all_relation_type from aut_link where aut_link_from = 1 OR aut_link_to = 1</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities, authors
						WHERE (authors.author_id=authorities.num_object and authorities.type_object = 1)
						AND (author_id IN (select aut_link_from_num FROM aut_link WHERE aut_link_from = 1 AND aut_link_type = '!!p!!')
						OR author_id IN (select aut_link_to_num FROM aut_link WHERE aut_link_to = 1 and aut_link_type = '!!p!!'))]]></main>
			</query>
		</field>
		<field group="1" title="msg:search_author_creator" id="1100">
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct userid, CONCAT(nom, ' ', prenom) from users order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT DISTINCT id_authority FROM authorities JOIN audit ON audit.object_id = authorities.num_object AND authorities.type_object = 1 AND audit.type_obj=6 AND audit.type_modif=1 WHERE audit.user_id = '!!p!!']]></main>
			</query>
		</field>
		<field group="1" title="msg:search_autority_contributor" id="1101" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where type_obj = 6 order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND type_object = 1 and type_obj = 6 AND type_modif=1 AND type_user=1 WHERE user_id=!!p!!]]></main>
			</query>
		</field>
		
		<field group="2" title="msg:search_extended_authorities_all_fields" id="2102" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="categories">
				</class>
			</query>
		</field>
		<field title="msg:search_extended_category_label" id="2001" group="2">
			<input type="text"/>
			<variable name="lang" type="global"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="categories">
					<fieldrestrict>
						<field>code_champ</field>
						<values>2001</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.libelle_categorie like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.libelle_categorie like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.libelle_categorie = '!!p!!']]></main>
			</query>
		</field>
		<field title="msg:search_extended_category_thesaurus" id="2010" group="2" >
			<var name="thesaurus_mode_pmb" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select id_thesaurus, libelle_thesaurus from thesaurus</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities join noeuds on authorities.num_object = noeuds.id_noeud and type_object = 2 where noeuds.num_thesaurus = '!!p!!']]></main>
			</query>
		</field>
		<field group="2" title="msg:search_extended_category_na" id="2002" >
			<input type="text"/>
			<variable name="lang" type="global"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="categories">
					<fieldrestrict>
						<field>code_champ</field>
						<values>2002</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where (!!multiple_term!!)]]></main>
				<multipleTerm>categories.note_application like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where (!!multiple_term!!)]]></main>
				<multipleTerm>categories.note_application like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.note_application like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.note_application like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.note_application = '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.note_application = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.note_application <> '']]></main>
			</query>
		</field>
		<field group="2" title="msg:search_extended_category_cm" id="2003" >
			<input type="text"/>
			<variable name="lang" type="global"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="categories">
					<fieldrestrict>
						<field>code_champ</field>
						<values>2003</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where (!!multiple_term!!)]]></main>
				<multipleTerm>categories.comment_public like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where (!!multiple_term!!)]]></main>
				<multipleTerm>categories.comment_public like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.comment_public like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.comment_public like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.comment_public = '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.comment_public = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 where categories.langue in ('!!lang!!') and categories.comment_public <> '']]></main>
			</query>
		</field>
		<field group="2" title="msg:search_extended_category_concepts" id="2008" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="categories">
					<fieldrestrict>
						<field>code_champ</field>
						<values>2008</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 join index_concept on index_concept.num_object = categories.num_noeud and index_concept.type_object = 3 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!%' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 join index_concept on index_concept.num_object = categories.num_noeud and index_concept.type_object = 3 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '%!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 join index_concept on index_concept.num_object = categories.num_noeud and index_concept.type_object = 3 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 join index_concept on index_concept.num_object = categories.num_noeud and index_concept.type_object = 3 where index_concept.num_concept = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities where authorities.type_object = 2 and id_authority not in (select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 join index_concept on index_concept.num_object = categories.num_noeud and index_concept.type_object = 3 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!)))]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities join categories on categories.num_noeud=authorities.num_object and authorities.type_object = 2 join index_concept on index_concept.num_object = categories.num_noeud and index_concept.type_object = 3 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
		</field>
		<field group="2" title="msg:search_extended_category_concepts_autopostage" id="2009">
			<var name="thesaurus_concepts_autopostage" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="categories">
					<fieldrestrict>
						<field>code_champ</field>
						<values>2008</values>
						<op>and</op>
					</fieldrestrict>
					<fieldrestrict>
						<field>code_champ</field>
						<values>2009</values>
						<op>or</op>
					</fieldrestrict>
				</class>
			</query>
		</field>
		<field group="2" title="msg:search_extended_category_statut" id="2099" >
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts where authorities_statut_available_for like '%"2"%' order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where type_object = 2 and num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="2" title="msg:search_extended_category_aut_link" id="2900" >
			<input type="marc_list">
				<name>aut_link</name>
				<restrictquery>SELECT group_concat(distinct aut_link_type SEPARATOR ',') as all_relation_type from aut_link where aut_link_from = 2 OR aut_link_to = 2</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities, noeuds
						WHERE (noeuds.id_noeud=authorities.num_object and authorities.type_object = 2)
						AND (id_noeud IN (select aut_link_from_num FROM aut_link WHERE aut_link_from = 2 AND aut_link_type = '!!p!!')
						OR id_noeud IN (select aut_link_to_num FROM aut_link WHERE aut_link_to = 2 and aut_link_type = '!!p!!'))]]></main>
			</query>
		</field>
		<field group="2" title="msg:search_category_creator" id="2100">
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct userid, CONCAT(nom, ' ', prenom) from users order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT DISTINCT id_authority FROM authorities JOIN audit ON audit.object_id = authorities.num_object AND authorities.type_object = 2 AND audit.type_obj=12 AND audit.type_modif=1 WHERE audit.user_id = '!!p!!']]></main>
			</query>
		</field>
		<field group="2" title="msg:search_autority_contributor" id="2101" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where type_obj = 12 order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND type_object = 2 and type_obj = 12 AND type_modif=1 AND type_user=1 WHERE user_id=!!p!!]]></main>
			</query>
		</field>
		
		<field group="3" title="msg:search_extended_authorities_all_fields" id="3102" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
				</class>
			</query>
		</field>
		<field title="msg:search_extended_publisher_name" id="3001" group="3">
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3001</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_adr" id="3002" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3002,3003</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_adr1 like '!!p!!%' or ed_adr2 like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_adr1 like '%!!p!!' or ed_adr2 like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_adr1 like '!!p!!' or ed_adr2 like '!!p!!']]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_cp" id="3004" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3004</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_cp like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_cp like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_cp like '!!p!!']]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_ville" id="3005" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3005</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where (!!multiple_term!!)]]></main>
				<multipleTerm>ed_ville like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where (!!multiple_term!!)]]></main>
				<multipleTerm>ed_ville like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_ville like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_ville like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_ville like '!!p!!']]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_pays" id="3006" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3006</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_pays like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_pays like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_pays like '!!p!!']]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_site_web" id="3007" >
			<input type="text"/>
			<query for="CONTAINS">
				<main>select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_web like concat('%',replace('!!p!!','*','%'),'%') and ed_web != ''</main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_comment" id="3008" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3008</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where (!!multiple_term!!)]]></main>
				<multipleTerm>ed_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where (!!multiple_term!!)]]></main>
				<multipleTerm>ed_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_comment like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_comment like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where ed_comment like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where (ed_comment is null or ed_comment = '')]]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where (ed_comment is not null or ed_comment <> '')]]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_concepts" id="3009" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3009</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join index_concept on index_concept.num_object = publishers.ed_id and index_concept.type_object = 4 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!%' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join index_concept on index_concept.num_object = publishers.ed_id and index_concept.type_object = 4 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '%!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join index_concept on index_concept.num_object = publishers.ed_id and index_concept.type_object = 4 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join index_concept on index_concept.num_object = publishers.ed_id and index_concept.type_object = 4 where index_concept.num_concept = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities where authorities.type_object = 3 and id_authority not in (select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join index_concept on index_concept.num_object = publishers.ed_id and index_concept.type_object = 4 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!)))]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join index_concept on index_concept.num_object = publishers.ed_id and index_concept.type_object = 4 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_concepts_autopostage" id="3011">
			<var name="thesaurus_concepts_autopostage" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3009</values>
						<op>and</op>
					</fieldrestrict>
					<fieldrestrict>
						<field>code_champ</field>
						<values>3011</values>
						<op>or</op>
					</fieldrestrict>
				</class>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_supplier" id="3010" >
			<input type="authoritie" ajax="fournisseur" selector="fournisseur" p1="param1" p2="param2"/>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="publishers">
					<fieldrestrict>
						<field>code_champ</field>
						<values>3010</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join entites on entites.id_entite=publishers.ed_num_entite where raison_sociale like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join entites on entites.id_entite=publishers.ed_num_entite where raison_sociale like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join entites on entites.id_entite=publishers.ed_num_entite where raison_sociale like '!!p!!']]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where publishers.ed_num_entite = !!p!!]]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where publishers.ed_num_entite = 0]]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 where publishers.ed_num_entite <> 0]]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_statut" id="3099" >
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts where authorities_statut_available_for like '%"3"%' order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where type_object = 3 and num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="3" title="msg:search_extended_publisher_aut_link" id="3900" >
			<input type="marc_list">
				<name>aut_link</name>
				<restrictquery>SELECT group_concat(distinct aut_link_type SEPARATOR ',') as all_relation_type from aut_link where aut_link_from = 3 OR aut_link_to = 3</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities, publishers
						WHERE (publishers.ed_id=authorities.num_object and authorities.type_object = 3)
						AND (ed_id IN (select aut_link_from_num FROM aut_link WHERE aut_link_from = 3 AND aut_link_type = '!!p!!')
						OR ed_id IN (select aut_link_to_num FROM aut_link WHERE aut_link_to = 3 and aut_link_type = '!!p!!'))]]></main>
			</query>
		</field>
		<field group="3" title="msg:search_category_creator" id="3100">
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct userid, CONCAT(nom, ' ', prenom) from users order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT DISTINCT id_authority FROM authorities JOIN audit ON audit.object_id = authorities.num_object AND authorities.type_object = 3 AND audit.type_obj=10 AND audit.type_modif=1 WHERE audit.user_id = '!!p!!']]></main>
			</query>
		</field>
		<field group="3" title="msg:search_autority_contributor" id="3101" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where type_obj = 10 order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND type_object = 3 and type_obj = 10 AND type_modif=1 AND type_user=1 WHERE user_id=!!p!!]]></main>
			</query>
		</field>
	
		<field group="4" title="msg:search_extended_authorities_all_fields" id="4102" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="collections">
				</class>
			</query>
		</field>
		<field title="msg:search_extended_collection_name" id="4001" group="4">
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="collections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>4001</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="4" title="msg:search_extended_collection_issn" id="4002" >
			<input type="text"/>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_issn like '!!p!!%']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_issn = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_issn <> '']]></main>
			</query>
		</field>
		<field group="4" title="msg:search_extended_collection_publisher" id="4003" >
			<input type="authoritie" ajax="publishers" selector="editeur" p1="p1" p2="p2"/>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="collections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>4003</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join publishers on publishers.ed_id=collections.collection_parent where ed_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join publishers on publishers.ed_id=collections.collection_parent where ed_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join publishers on publishers.ed_id=collections.collection_parent where ed_name like '!!p!!']]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join publishers on publishers.ed_id=collections.collection_parent where ed_id = !!p!!]]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collections.collection_parent = 0]]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collections.collection_parent <> 0]]></main>
			</query>
		</field>
		<field group="4" title="msg:search_extended_collection_site_web" id="4004" >
			<input type="text"/>
			<query for="CONTAINS">
				<main>select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_web like concat('%',replace('!!p!!','*','%'),'%') and collection_web != ''</main>
			</query>
		</field>
		<field group="4" title="msg:search_extended_collection_comment" id="4005" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="collections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>4005</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where (!!multiple_term!!)]]></main>
				<multipleTerm>collection_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where (!!multiple_term!!)]]></main>
				<multipleTerm>collection_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_comment like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_comment like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_comment like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_comment = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 where collection_comment <> '']]></main>
			</query>
		</field>
		<field group="4" title="msg:search_extended_collection_concepts" id="4006" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="collections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>4006</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join index_concept on index_concept.num_object = collections.collection_id and index_concept.type_object = 5 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!%' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join index_concept on index_concept.num_object = collections.collection_id and index_concept.type_object = 5 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '%!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join index_concept on index_concept.num_object = collections.collection_id and index_concept.type_object = 5 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join index_concept on index_concept.num_object = collections.collection_id and index_concept.type_object = 5 where index_concept.num_concept = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities where authorities.type_object = 4 and id_authority not in (select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join index_concept on index_concept.num_object = collections.collection_id and index_concept.type_object = 5 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!)))]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join index_concept on index_concept.num_object = collections.collection_id and index_concept.type_object = 5 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
		</field>
		<field group="4" title="msg:search_extended_collection_concepts_autopostage" id="4007">
			<var name="thesaurus_concepts_autopostage" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="collections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>4006</values>
						<op>and</op>
					</fieldrestrict>
					<fieldrestrict>
						<field>code_champ</field>
						<values>4007</values>
						<op>or</op>
					</fieldrestrict>
				</class>
			</query>
		</field>
		<field group="4" title="msg:search_extended_collection_statut" id="4099" >
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts where authorities_statut_available_for like '%"4"%' order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where type_object = 4 and num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="4" title="msg:search_extended_collection_aut_link" id="4900" >
			<input type="marc_list">
				<name>aut_link</name>
				<restrictquery>SELECT group_concat(distinct aut_link_type SEPARATOR ',') as all_relation_type from aut_link where aut_link_from = 4 OR aut_link_to = 4</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities, collections
						WHERE (collections.collection_id=authorities.num_object and authorities.type_object = 4)
						AND (collection_id IN (select aut_link_from_num FROM aut_link WHERE aut_link_from = 4 AND aut_link_type = '!!p!!')
						OR collection_id IN (select aut_link_to_num FROM aut_link WHERE aut_link_to = 4 and aut_link_type = '!!p!!'))]]></main>
			</query>
		</field>
		<field group="4" title="msg:search_coll_creator" id="4100">
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct userid, CONCAT(nom, ' ', prenom) from users order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT DISTINCT id_authority FROM authorities JOIN audit ON audit.object_id = authorities.num_object AND authorities.type_object = 4 AND audit.type_obj=7 AND audit.type_modif=1 WHERE audit.user_id = '!!p!!']]></main>
			</query>
		</field>
		<field group="4" title="msg:search_autority_contributor" id="4101" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where type_obj = 7 order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND type_object = 4 and type_obj = 7 AND type_modif=1 AND type_user=1 WHERE user_id=!!p!!]]></main>
			</query>
		</field>
	
		<field group="5" title="msg:search_extended_authorities_all_fields" id="5102" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="subcollections">
				</class>
			</query>
		</field>
		<field title="msg:search_extended_subcollection_name" id="5001" group="5">
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="subcollections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>5001</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_coll_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_coll_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_coll_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_issn" id="5002" >
			<input type="text"/>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_coll_issn like '!!p!!%']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_coll_issn = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_coll_issn <> '']]></main>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_publisher" id="5008" >
			<input type="authoritie" ajax="publishers" selector="editeur" p1="p1" p2="p2"/>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="subcollections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>5003</values>
						<op>and</op>
						<sub>
							<fieldrestrict>
								<sub_field>code_ss_champ</sub_field>
								<values>4,8</values>
								<op>and</op>
							</fieldrestrict>
						</sub>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on sub_collections.sub_coll_parent = collections.collection_id join publishers on publishers.ed_id=collections.collection_parent where ed_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on sub_collections.sub_coll_parent = collections.collection_id join publishers on publishers.ed_id=collections.collection_parent where ed_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on sub_collections.sub_coll_parent = collections.collection_id join publishers on publishers.ed_id=collections.collection_parent where ed_name like '!!p!!']]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on sub_collections.sub_coll_parent = collections.collection_id where collections.collection_parent = !!p!!]]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on sub_collections.sub_coll_parent = collections.collection_id where collections.collection_parent = 0]]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on sub_collections.sub_coll_parent = collections.collection_id where collections.collection_parent <> 0]]></main>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_parent" id="5003" >
			<input type="authoritie" ajax="collections" selector="collection" p1="p1" p2="p2"/>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="subcollections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>5003</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on collections.collection_id=sub_collections.sub_coll_parent where collection_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on collections.collection_id=sub_collections.sub_coll_parent where collection_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join collections on collections.collection_id=sub_collections.sub_coll_parent where collection_name like '!!p!!']]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_collections.sub_coll_parent = !!p!!]]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_collections.sub_coll_parent = 0]]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where sub_collections.sub_coll_parent <> 0]]></main>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_site_web" id="5004" >
			<input type="text"/>
			<query for="CONTAINS">
				<main>select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where subcollection_web like concat('%',replace('!!p!!','*','%'),'%') and subcollection_web!=''</main>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_comment" id="5005" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="subcollections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>5005</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where (!!multiple_term!!)]]></main>
				<multipleTerm>subcollection_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where (!!multiple_term!!)]]></main>
				<multipleTerm>subcollection_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where subcollection_comment like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where subcollection_comment like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where subcollection_comment like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where subcollection_comment = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 where subcollection_comment <> '']]></main>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_concepts" id="5006" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="subcollections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>5006</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join index_concept on index_concept.num_object = sub_collections.sub_coll_id and index_concept.type_object = 6 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!%' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join index_concept on index_concept.num_object = sub_collections.sub_coll_id and index_concept.type_object = 6 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '%!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join index_concept on index_concept.num_object = sub_collections.sub_coll_id and index_concept.type_object = 6 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join index_concept on index_concept.num_object = sub_collections.sub_coll_id and index_concept.type_object = 6 where index_concept.num_concept = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities where authorities.type_object = 5 and id_authority not in (select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join index_concept on index_concept.num_object = sub_collections.sub_coll_id and index_concept.type_object = 6 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!)))]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join index_concept on index_concept.num_object = sub_collections.sub_coll_id and index_concept.type_object = 6 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_concepts_autopostage" id="5007">
			<var name="thesaurus_concepts_autopostage" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="subcollections">
					<fieldrestrict>
						<field>code_champ</field>
						<values>5006</values>
						<op>and</op>
					</fieldrestrict>
					<fieldrestrict>
						<field>code_champ</field>
						<values>5007</values>
						<op>or</op>
					</fieldrestrict>
				</class>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_statut" id="5099" >
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts where authorities_statut_available_for like '%"5"%' order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where type_object = 5 and num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="5" title="msg:search_extended_subcollection_aut_link" id="5900" >
			<input type="marc_list">
				<name>aut_link</name>
				<restrictquery>SELECT group_concat(distinct aut_link_type SEPARATOR ',') as all_relation_type from aut_link where aut_link_from = 5 OR aut_link_to = 5</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities, sub_collections
						WHERE (sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5)
						AND (sub_coll_id IN (select aut_link_from_num FROM aut_link WHERE aut_link_from = 5 AND aut_link_type = '!!p!!')
						OR sub_coll_id IN (select aut_link_to_num FROM aut_link WHERE aut_link_to = 5 and aut_link_type = '!!p!!'))]]></main>
			</query>
		</field>
		<field group="5" title="msg:search_subcoll_creator" id="5100">
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct userid, CONCAT(nom, ' ', prenom) from users order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT DISTINCT id_authority FROM authorities JOIN audit ON audit.object_id = authorities.num_object AND authorities.type_object = 5 AND audit.type_obj=8 AND audit.type_modif=1 WHERE audit.user_id = '!!p!!']]></main>
			</query>
		</field>
		<field group="5" title="msg:search_autority_contributor" id="5101" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where type_obj = 8 order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND type_object = 5 and type_obj = 8 AND type_modif=1 AND type_user=1 WHERE user_id=!!p!!]]></main>
			</query>
		</field>
		
		<field group="6" title="msg:search_extended_authorities_all_fields" id="6102" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="series">
				</class>
			</query>
		</field>
		<field title="msg:search_extended_serie_label" id="6001" group="6">
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="series">
					<fieldrestrict>
						<field>code_champ</field>
						<values>6001</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 where serie_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 where serie_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 where serie_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="6" title="msg:search_extended_serie_concepts" id="6002" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="series">
					<fieldrestrict>
						<field>code_champ</field>
						<values>6002</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join index_concept on index_concept.num_object = series.serie_id and index_concept.type_object = 7 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!%' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join index_concept on index_concept.num_object = series.serie_id and index_concept.type_object = 7 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '%!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join index_concept on index_concept.num_object = series.serie_id and index_concept.type_object = 7 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join index_concept on index_concept.num_object = series.serie_id and index_concept.type_object = 7 where index_concept.num_concept = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities where authorities.type_object = 6 and id_authority not in (select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join index_concept on index_concept.num_object = series.serie_id and index_concept.type_object = 7 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!)))]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join index_concept on index_concept.num_object = series.serie_id and index_concept.type_object = 7 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
		</field>
		<field group="6" title="msg:search_extended_serie_concepts_autopostage" id="6003">
			<var name="thesaurus_concepts_autopostage" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="series">
					<fieldrestrict>
						<field>code_champ</field>
						<values>6002</values>
						<op>and</op>
					</fieldrestrict>
					<fieldrestrict>
						<field>code_champ</field>
						<values>6003</values>
						<op>or</op>
					</fieldrestrict>
				</class>
			</query>
		</field>
		<field group="6" title="msg:search_extended_serie_statut" id="6099" >
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts where authorities_statut_available_for like '%"6"%' order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where type_object = 6 and num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="6" title="msg:search_extended_serie_aut_link" id="6900" >
			<input type="marc_list">
				<name>aut_link</name>
				<restrictquery>SELECT group_concat(distinct aut_link_type SEPARATOR ',') as all_relation_type from aut_link where aut_link_from = 6 OR aut_link_to = 6</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities, series
						WHERE (series.serie_id=authorities.num_object and authorities.type_object = 6)
						AND (serie_id IN (select aut_link_from_num FROM aut_link WHERE aut_link_from = 6 AND aut_link_type = '!!p!!')
						OR serie_id IN (select aut_link_to_num FROM aut_link WHERE aut_link_to = 6 and aut_link_type = '!!p!!'))]]></main>
			</query>
		</field>
		<field group="6" title="msg:search_serie_creator" id="6100">
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct userid, CONCAT(nom, ' ', prenom) from users order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT DISTINCT id_authority FROM authorities JOIN audit ON audit.object_id = authorities.num_object AND authorities.type_object = 6 AND audit.type_obj=11 AND audit.type_modif=1 WHERE audit.user_id = '!!p!!']]></main>
			</query>
		</field>
		<field group="6" title="msg:search_autority_contributor" id="6101" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where type_obj = 11 order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND type_object = 6 and type_obj = 11 AND type_modif=1 AND type_user=1 WHERE user_id=!!p!!]]></main>
			</query>
		</field>
		
		<field group="7" title="msg:search_extended_authorities_all_fields" id="7102" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
				</class>
			</query>
		</field>
		<field title="msg:search_extended_titre_uniforme_oeuvre_type" id="7001" group="7">
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="marc_list">
				<name>oeuvre_type</name>
				<restrictquery>SELECT group_concat(distinct tu_oeuvre_type SEPARATOR ',') as all_oeuvre_type from titres_uniformes</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7
						WHERE tu_oeuvre_type = '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_oeuvre_nature" id="7002" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="marc_list">
				<name>oeuvre_nature</name>
				<restrictquery>SELECT group_concat(distinct tu_oeuvre_nature SEPARATOR ',') as all_oeuvre_nature from titres_uniformes</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7
						WHERE tu_oeuvre_nature = '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_name" id="7003" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7003</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_name like '!!p!!']]></main>
			</query>
		</field>
<!-- 		<field title="msg:search_extended_titre_uniforme_expression" id="7004" > -->
<!-- 			<input type="marc_list"> -->
<!-- 				<name>oeuvre_link</name> -->
<!-- 				<restrictquery>SELECT group_concat(distinct oeuvre_link_type SEPARATOR ',') as all_link_type from tu_oeuvres_links where oeuvre_link_expression = 1</restrictquery>				 -->
<!-- 			</input> -->
<!-- 			<query for="EQ"> -->
<!-- 				<main><![CDATA[SELECT distinct id_authority from authorities join tu_oeuvres_links on tu_oeuvres_links.oeuvre_link_from=authorities.num_object and authorities.type_object = 7 -->
<!-- 						WHERE oeuvre_link_type='!!p!!']]></main> -->
<!-- 			</query> -->
<!-- 		</field> -->
<!-- 		<field title="msg:search_extended_titre_uniforme_others_link" id="7005" > -->
<!-- 			<input type="marc_list"> -->
<!-- 				<name>oeuvre_link</name> -->
<!-- 				<restrictquery>SELECT group_concat(distinct oeuvre_link_type SEPARATOR ',') as all_link_type from tu_oeuvres_links where oeuvre_link_other_link = 1</restrictquery>				 -->
<!-- 			</input> -->
<!-- 			<query for="EQ"> -->
<!-- 				<main><![CDATA[SELECT distinct id_authority from authorities join tu_oeuvres_links on tu_oeuvres_links.oeuvre_link_from=authorities.num_object and authorities.type_object = 7 -->
<!-- 						WHERE oeuvre_link_type='!!p!!']]></main> -->
<!-- 			</query> -->
<!-- 		</field> -->
		<field group="7" title="msg:search_extended_titre_uniforme_author" id="7007" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="authors" selector="auteur" p1="param1" p2="param2"/>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7007</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join responsability_tu on responsability_tu.responsability_tu_num=authorities.num_object and authorities.type_object = 7 and responsability_tu.responsability_tu_type=0 join authors on authors.author_id=responsability_tu.responsability_tu_author_num  where author_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join responsability_tu on responsability_tu.responsability_tu_num=authorities.num_object and authorities.type_object = 7 and responsability_tu.responsability_tu_type=0 join authors on authors.author_id=responsability_tu.responsability_tu_author_num where author_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join responsability_tu on responsability_tu.responsability_tu_num=authorities.num_object and authorities.type_object = 7 and responsability_tu.responsability_tu_type=0 join authors on authors.author_id=responsability_tu.responsability_tu_author_num where author_name = '!!p!!']]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join responsability_tu on responsability_tu.responsability_tu_num=authorities.num_object and authorities.type_object = 7 and responsability_tu.responsability_tu_type=0 where responsability_tu.responsability_tu_author_num='!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where titres_uniformes.tu_id not in (select responsability_tu_author_num from responsability_tu where responsability_tu_type=0)]]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where titres_uniformes.tu_id in (select responsability_tu_author_num from responsability_tu where responsability_tu_type=0)]]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_interpreter" id="7027" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="authors" selector="auteur" p1="param1" p2="param2"/>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7027</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join responsability_tu on responsability_tu.responsability_tu_num=authorities.num_object and authorities.type_object = 7 and responsability_tu.responsability_tu_type=1 join authors on authors.author_id=responsability_tu.responsability_tu_author_num where author_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join responsability_tu on responsability_tu.responsability_tu_num=authorities.num_object and authorities.type_object = 7 and responsability_tu.responsability_tu_type=1 join authors on authors.author_id=responsability_tu.responsability_tu_author_num where author_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_authority from authorities join responsability_tu on responsability_tu.responsability_tu_num=authorities.num_object and authorities.type_object = 7 and responsability_tu.responsability_tu_type=1 join authors on authors.author_id=responsability_tu.responsability_tu_author_num where author_name = '!!p!!']]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join responsability_tu on responsability_tu.responsability_tu_num=authorities.num_object and authorities.type_object = 7 and responsability_tu.responsability_tu_type=1 and responsability_tu.responsability_type=1 where responsability_tu.responsability_tu_author_num='!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where titres_uniformes.tu_id not in (select responsability_tu_author_num from responsability_tu where responsability_tu_type=1)]]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where titres_uniformes.tu_id in (select responsability_tu_author_num from responsability_tu where responsability_tu_type=1)]]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_responsability_qualification" id="7028" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="vedette" selector="vedette" p1="p1" p2="p2" />
			<var name="pmb_authors_qualification" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<variable name="grammars" type="input">
				<input type="hidden">
					<value>tu_authors</value>
				</input> 
			</variable>
			<variable name= "with_author" type="input" comment="msg:authors">
				<default type="value">1</default>
				<input type="checkbox">
					<value>1</value>
					<comments>
						<label value="1">Oui</label>
						<label value="0">non</label>
					</comments>
				</input>
			</variable>
			<variable name= "with_interpreter" type="input" comment="msg:aut_oeuvre_form_interprete">
				<default type="value">1</default>
				<input type="checkbox">
					<value>1</value>
					<comments>
						<label value="1">Oui</label>
						<label value="0">non</label>
					</comments>
				</input>
			</variable>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities 
				join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 
				join responsability_tu on responsability_tu.responsability_tu_num = titres_uniformes.tu_id 
				and (responsability_tu.responsability_tu_type = (case '!!with_author!!' when '1' then '0' else '-1' end) or responsability_tu.responsability_tu_type = '!!with_interpreter!!')
				join vedette_link on vedette_link.num_object = responsability_tu.id_responsability_tu and vedette_link.type_object in (2,6)
				join vedette on vedette.id_vedette = vedette_link.num_vedette
				where vedette.grammar in('!!grammars!!') and (!!multiple_term!!)]]></main>
				<multipleTerm>vedette.label like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities 
				join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 
				join responsability_tu on responsability_tu.responsability_tu_num = titres_uniformes.tu_id 
				and (responsability_tu.responsability_tu_type = (case '!!with_author!!' when '1' then '0' else '-1' end) or responsability_tu.responsability_tu_type = '!!with_interpreter!!')
				join vedette_link on vedette_link.num_object = responsability_tu.id_responsability_tu and vedette_link.type_object in (2,6)
				join vedette on vedette.id_vedette = vedette_link.num_vedette
				where vedette.grammar in('!!grammars!!') and (!!multiple_term!!)]]></main>
				<multipleTerm>vedette.label like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities 
				join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 
				join responsability_tu on responsability_tu.responsability_tu_num = titres_uniformes.tu_id 
				and (responsability_tu.responsability_tu_type = (case '!!with_author!!' when '1' then '0' else '-1' end) or responsability_tu.responsability_tu_type = '!!with_interpreter!!')
				join vedette_link on vedette_link.num_object = responsability_tu.id_responsability_tu and vedette_link.type_object in (2,6)
				join vedette on vedette.id_vedette = vedette_link.num_vedette
				where vedette.grammar in('!!grammars!!') and vedette.label like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities 
				join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 
				join responsability_tu on responsability_tu.responsability_tu_num = titres_uniformes.tu_id 
				and (responsability_tu.responsability_tu_type = (case '!!with_author!!' when '1' then '0' else '-1' end) or responsability_tu.responsability_tu_type = '!!with_interpreter!!')
				join vedette_link on vedette_link.num_object = responsability_tu.id_responsability_tu and vedette_link.type_object in (2,6)
				join vedette on vedette.id_vedette = vedette_link.num_vedette
				where vedette.grammar in('!!grammars!!') and vedette.label like '%!!p!!']]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities 
				join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 
				join responsability_tu on responsability_tu.responsability_tu_num = titres_uniformes.tu_id 
				and (responsability_tu.responsability_tu_type = (case '!!with_author!!' when '1' then '0' else '-1' end) or responsability_tu.responsability_tu_type = '!!with_interpreter!!')
				join vedette_link on vedette_link.num_object = responsability_tu.id_responsability_tu and vedette_link.type_object in (2,6)
				join vedette on vedette.id_vedette = vedette_link.num_vedette
				where vedette.grammar in('!!grammars!!') and vedette_link.num_vedette = '!!p!!']]></main>
			</query>
		</field>		
		<field group="7" title="msg:search_extended_titre_uniforme_forme" id="7008" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7008</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_forme like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_forme like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_forme like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_forme_marclist" id="7009" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="marc_list">
				<name>music_form</name>
				<restrictquery>SELECT group_concat(distinct tu_forme_marclist SEPARATOR ',') as all_forme from titres_uniformes</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7
						WHERE tu_forme_marclist = '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_date" id="7010" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_date like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_date like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_date like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_lieu" id="7011" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7011</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_lieu like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_lieu like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_lieu like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_sujet" id="7012" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7012</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_sujet like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_sujet like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_sujet like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_public" id="7013" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7013</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_public like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_public like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_public like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_histoire" id="7014" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7014</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_histoire like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_histoire like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_histoire like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_contexte" id="7015" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7015</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_contexte like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_contexte like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_contexte like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_distrib" id="7016" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7016</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_distrib on tu_distrib.distrib_num_tu=authorities.num_object and authorities.type_object = 7 where distrib_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_distrib on tu_distrib.distrib_num_tu=authorities.num_object and authorities.type_object = 7 where distrib_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_distrib on tu_distrib.distrib_num_tu=authorities.num_object and authorities.type_object = 7 where distrib_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_ref_num" id="7017" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7017</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_ref on tu_distrib.ref_num_tu=authorities.num_object and authorities.type_object = 7 where ref_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_distrib on tu_distrib.ref_num_tu=authorities.num_object and authorities.type_object = 7 where ref_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_distrib on tu_distrib.ref_num_tu=authorities.num_object and authorities.type_object = 7 where ref_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_tonalite" id="7018" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7018</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_tonalite like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_tonalite like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_tonalite like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_tonalite_marclist" id="7019" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="marc_list">
				<name>music_key</name>
				<restrictquery>SELECT group_concat(distinct tu_tonalite_marclist SEPARATOR ',') as all_tonalite from titres_uniformes</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7
						WHERE tu_tonalite_marclist = '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_coords" id="7020" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7020</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_coordonnees like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_coordonnees like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_coordonnees like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_equinoxe" id="7021" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7021</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_equinoxe like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_equinoxe like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_equinoxe like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_subdiv_forme" id="7022" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7022</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_subdiv on tu_subdiv.subdiv_num_tu=authorities.num_object and authorities.type_object = 7 where subdiv_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_subdiv on tu_subdiv.subdiv_num_tu=authorities.num_object and authorities.type_object = 7 where subdiv_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join tu_subdiv on tu_subdiv.subdiv_num_tu=authorities.num_object and authorities.type_object = 7 where subdiv_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_caracteristiques" id="7023" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7023</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_caracteristique like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_caracteristique like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_caracteristique like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_caracteristique = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_caracteristique <> '']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_comment" id="7024" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7024</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where (!!multiple_term!!)]]></main>
				<multipleTerm>tu_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where (!!multiple_term!!)]]></main>
				<multipleTerm>tu_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_comment like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_comment like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_comment like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_comment = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_comment <> '']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_concepts" id="7025" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titres_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7025</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join index_concept on index_concept.num_object = titres_uniformes.tu_id and index_concept.type_object = 8 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!%' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join index_concept on index_concept.num_object = titres_uniformes.tu_id and index_concept.type_object = 8 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '%!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join index_concept on index_concept.num_object = titres_uniformes.tu_id and index_concept.type_object = 8 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join index_concept on index_concept.num_object = titres_uniformes.tu_id and index_concept.type_object = 8 where index_concept.num_concept = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities where authorities.type_object = 7 and id_authority not in (select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join index_concept on index_concept.num_object = titres_uniformes.tu_id and index_concept.type_object = 8 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!)))]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join index_concept on index_concept.num_object = titres_uniformes.tu_id and index_concept.type_object = 8 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_concepts_autopostage" id="7029">
			<var name="thesaurus_concepts_autopostage" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="titre_uniformes">
					<fieldrestrict>
						<field>code_champ</field>
						<values>7025</values>
						<op>and</op>
					</fieldrestrict>
					<fieldrestrict>
						<field>code_champ</field>
						<values>7028</values>
						<op>or</op>
					</fieldrestrict>
				</class>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_completude" id="7026" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="list">
				<options>
					<option value="1">msg:aut_oeuvre_form_completude_finished</option>
					<option value="2">msg:aut_oeuvre_form_completude_infinite</option>
				</options>	
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 where tu_completude = '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_statut" id="7099" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts where authorities_statut_available_for like '%"7"%' order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where type_object = 7 and num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_extended_titre_uniforme_aut_link" id="7900" >
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="marc_list">
				<name>aut_link</name>
				<restrictquery>SELECT group_concat(distinct aut_link_type SEPARATOR ',') as all_relation_type from aut_link where aut_link_from = 7 OR aut_link_to = 7</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities, titres_uniformes
						WHERE (titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7)
						AND (tu_id IN (select aut_link_from_num FROM aut_link WHERE aut_link_from = 7 AND aut_link_type = '!!p!!')
						OR tu_id IN (select aut_link_to_num FROM aut_link WHERE aut_link_to = 7 and aut_link_type = '!!p!!'))]]></main>
			</query>
		</field>
		<field group="7" title="msg:search_tu_creator" id="7100">
			<var name="pmb_use_uniform_title" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct userid, CONCAT(nom, ' ', prenom) from users order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT DISTINCT id_authority FROM authorities JOIN audit ON audit.object_id = authorities.num_object AND authorities.type_object = 7 AND audit.type_obj=13 AND audit.type_modif=1 WHERE audit.user_id = '!!p!!']]></main>
			</query>
		</field>
		<field group="7" title="msg:search_autority_contributor" id="7101" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where type_obj = 13 order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND type_object = 7 and type_obj = 13 AND type_modif=1 AND type_user=1 WHERE user_id=!!p!!]]></main>
			</query>
		</field>
		
		<field group="8" title="msg:search_extended_authorities_all_fields" id="8102" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="indexint">
				</class>
			</query>
		</field>
		<field title="msg:search_extended_indexint_label" id="8001" group="8">
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="indexint">
					<fieldrestrict>
						<field>code_champ</field>
						<values>8001</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where indexint_name like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where indexint_name like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="no">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where indexint_name like '!!p!!']]></main>
			</query>
		</field>
		<field group="8" title="msg:search_extended_indexint_comment" id="8002" >
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="indexint">
					<fieldrestrict>
						<field>code_champ</field>
						<values>8002</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where (!!multiple_term!!)]]></main>
				<multipleTerm>indexint_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where (!!multiple_term!!)]]></main>
				<multipleTerm>indexint_comment like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where indexint_comment like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where indexint_comment like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where indexint_comment like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where indexint_comment = '']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 where indexint_comment <> '']]></main>
			</query>
		</field>
		<field group="8" title="msg:search_extended_indexint_concepts" id="8003" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="indexint">
					<fieldrestrict>
						<field>code_champ</field>
						<values>8002</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join index_concept on index_concept.num_object = indexint.indexint_id and index_concept.type_object = 9 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!%' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join index_concept on index_concept.num_object = indexint.indexint_id and index_concept.type_object = 9 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '%!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join index_concept on index_concept.num_object = indexint.indexint_id and index_concept.type_object = 9 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where value like '!!p!!' and id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join index_concept on index_concept.num_object = indexint.indexint_id and index_concept.type_object = 9 where index_concept.num_concept = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities where authorities.type_object = 8 and id_authority not in (select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join index_concept on index_concept.num_object = indexint.indexint_id and index_concept.type_object = 9 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!)))]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join index_concept on index_concept.num_object = indexint.indexint_id and index_concept.type_object = 9 join skos_fields_global_index on index_concept.num_concept = skos_fields_global_index.id_item and skos_fields_global_index.code_champ = 1 where id_item in (select id_item from skos_fields_global_index where code_champ = 4 and authority_num IN (!!id_scheme!!))]]></main>
			</query>
		</field>
		<field group="8" title="msg:search_extended_indexint_concepts_autopostage" id="8004">
			<var name="thesaurus_concepts_autopostage" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" />
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="indexint">
					<fieldrestrict>
						<field>code_champ</field>
						<values>8003</values>
						<op>and</op>
					</fieldrestrict>
					<fieldrestrict>
						<field>code_champ</field>
						<values>8004</values>
						<op>or</op>
					</fieldrestrict>
				</class>
			</query>
		</field>
		<field group="8" title="msg:search_extended_indexint_statut" id="8099" >
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts where authorities_statut_available_for like '%"8"%' order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where type_object = 8 and num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="8" title="msg:search_extended_indexint_aut_link" id="8900" >
			<input type="marc_list">
				<name>aut_link</name>
				<restrictquery>SELECT group_concat(distinct aut_link_type SEPARATOR ',') as all_relation_type from aut_link where aut_link_from = 8 OR aut_link_to = 8</restrictquery>				
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT distinct id_authority from authorities, indexint
						WHERE (indexint.indexint_id=authorities.num_object and authorities.type_object = 8)
						AND (indexint_id IN (select aut_link_from_num FROM aut_link WHERE aut_link_from = 8 AND aut_link_type = '!!p!!')
						OR indexint_id IN (select aut_link_to_num FROM aut_link WHERE aut_link_to = 8 and aut_link_type = '!!p!!'))]]></main>
			</query>
		</field>
		<field group="8" title="msg:search_indexint_creator" id="8100">
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct userid, CONCAT(nom, ' ', prenom) from users order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[SELECT DISTINCT id_authority FROM authorities JOIN audit ON audit.object_id = authorities.num_object AND authorities.type_object = 8 AND audit.type_obj=9 AND audit.type_modif=1 WHERE audit.user_id = '!!p!!']]></main>
			</query>
		</field>
		<field group="8" title="msg:search_autority_contributor" id="8101" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where type_obj = 9 order by 1</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND type_object = 8 and type_obj = 9 AND type_modif=1 AND type_user=1 WHERE user_id=!!p!!]]></main>
			</query>
		</field>		
		
		<!--<field group="10" title="msg:global_search" id="42">
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="authorities" mode="all_fields"></class>
			</query>
		</field>-->
		<field group="10" title="msg:search_extended_common_statut" id="099" >
			<input type="query_list">
				<query>select id_authorities_statut, authorities_statut_label from authorities_statuts order by authorities_statut_label</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities where num_statut = '!!p!!']]></main>
			</query>
		</field>
		<field group="10" title="msg:search_autority_contributor" id="0100" >
			<var name="pmb_type_audit" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="query_list">
				<query>select distinct user_id,  concat(empr_prenom, ' ', empr_nom) as prenom_nom from audit 
				 join empr on user_id = id_empr and type_user = 1 where (
					 (type_obj = 6) or (type_obj = 12) or 
					 (type_obj = 10) or (type_obj = 7) or 
					 (type_obj = 8) or (type_obj = 11) or 
					 (type_obj = 13) or (type_obj = 9)
				 ) order by 2</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_authority from authorities 
				JOIN audit ON object_id = num_object AND (
					(type_object = 1 and type_obj = 6) or (type_object = 2 and type_obj = 12) or 
					(type_object = 3 and type_obj = 10) or (type_object = 4 and type_obj = 7) or 
					(type_object = 5 and type_obj = 8) or (type_object = 6 and type_obj = 11) or 
					(type_object = 7 and type_obj = 13) or (type_object = 8 and type_obj = 9)
				)				
				AND type_modif=1 AND type_user=1 WHERE user_id=!!p!! order by type_object, id_authority]]></main>
			</query>
		</field>
		
		<field group="11" title="msg:search_extended_authorities_all_fields" id="11102" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="concepts">
				</class>
			</query>
		</field>
		<field group="11" title="msg:search_extended_skos_concepts_preflabel" id="11001" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text"/>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="concepts">
					<fieldrestrict>
						<field>code_champ</field>
						<values>1</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 1 where value like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 1 where value like '%!!p!!']]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 1 where value like '!!p!!']]></main>
			</query>
		</field>
		<field group="11" title="msg:search_extended_skos_concepts_scheme" id="11002" >
			<var name="thesaurus_concepts_active" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2" att_id_filter="http://www.w3.org/2004/02/skos/core#ConceptScheme"/>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
			<query for="BOOLEAN" wordSearch="yes">
				<class type="concepts">
					<fieldrestrict>
						<field>code_champ</field>
						<values>4</values>
						<op>and</op>
					</fieldrestrict>
				</class>
			</query>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 where code_champ = 4 and value like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 where code_champ = 4 and value like '%!!p!!']]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 where code_champ = 4 and value like '!!p!!']]></main>
			</query>
			<query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 where code_champ = 4 and authority_num = !!p!!]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 4 where value is null and authorities.type_object = 10]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 4 where value is not null and authorities.type_object = 10]]></main>
			</query>
		</field>		
		<field group="11" title="msg:search_extended_skos_concepts_autoposted" id="11003" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <var name="thesaurus_concepts_autopostage" visibility="yes">
                <value visibility="no">0</value>
            </var>
			<input type="authoritie" ajax="onto" selector="ontology" p1="param1" p2="param2"/>			
			<variable name="deflt_concept_scheme" type="global"/>
			<variable name="id_scheme" type="input" comment="Schéma">
				<default type="var">deflt_concept_scheme</default>
				<input type="query_list">
					<query allChoice="yes" titleAllChoice="msg:thes_all">select 0 as id, 'Sans schéma' as lib union SELECT id_item as id, value as lib FROM skos_fields_global_index WHERE code_champ=100 group by 1 order by 2</query>
				</input>
			</variable>
			<variable name= "operator_between_multiple_authorities" type="input" comment="msg:operator_between_multiple_authorities">
				<default type="value">or</default>
				<input type="radio">
					<options>
						<label value="or">msg:operator_between_multiple_authorities_or</label>
						<label value="and">msg:operator_between_multiple_authorities_and</label>
					</options>
				</input>
			</variable>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>1</values>
                        <op>and</op>
                    </fieldrestrict>
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>5</values>
                        <op>or</op>
                    </fieldrestrict>
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>6</values>
                        <op>or</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="AUTHORITY">
				<main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 where (code_champ = 5 OR code_champ = 6) and authority_num = !!p!!]]></main>
			</query>
        </field>
        <field group="11" title="msg:search_extended_skos_concepts_notation" id="11004" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <input type="text"/>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>7</values>
                        <op>and</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="STARTWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 7 where value like '!!p!!%']]></main>
            </query>
            <query for="ENDWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 7 where value like '%!!p!!']]></main>
            </query>
            <query for="EXACT">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 7 where value like '!!p!!']]></main>
            </query>
            <query for="ISEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 7 where value is null and authorities.type_object = 10]]></main>
            </query>
            <query for="ISNOTEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 7 where value is not null and authorities.type_object = 10]]></main>
            </query>
        </field>
        <field group="11" title="msg:search_extended_skos_concepts_note" id="11005" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <input type="text"/>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>8</values>
                        <op>and</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="STARTWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 8 where value like '!!p!!%']]></main>
            </query>
            <query for="ENDWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 8 where value like '%!!p!!']]></main>
            </query>
            <query for="EXACT">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 8 where value like '!!p!!']]></main>
            </query>
            <query for="ISEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 8 where value is null and authorities.type_object = 10]]></main>
            </query>
            <query for="ISNOTEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 8 where value is not null and authorities.type_object = 10]]></main>
            </query>
        </field>
        <field group="11" title="msg:search_extended_skos_concepts_change_note" id="11006" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <input type="text"/>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>9</values>
                        <op>and</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="STARTWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 9 where value like '!!p!!%']]></main>
            </query>
            <query for="ENDWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 9 where value like '%!!p!!']]></main>
            </query>
            <query for="EXACT">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 9 where value like '!!p!!']]></main>
            </query>
            <query for="ISEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 9 where value is null and authorities.type_object = 10]]></main>
            </query>
            <query for="ISNOTEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 9 where value is not null and authorities.type_object = 10]]></main>
            </query>
        </field>
        <field group="11" title="msg:search_extended_skos_concepts_definition" id="11007" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <input type="text"/>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>10</values>
                        <op>and</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="STARTWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 10 where value like '!!p!!%']]></main>
            </query>
            <query for="ENDWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 10 where value like '%!!p!!']]></main>
            </query>
            <query for="EXACT">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 10 where value like '!!p!!']]></main>
            </query>
            <query for="ISEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 10 where value is null and authorities.type_object = 10]]></main>
            </query>
            <query for="ISNOTEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 10 where value is not null and authorities.type_object = 10]]></main>
            </query>
        </field>
        <field group="11" title="msg:search_extended_skos_concepts_editorial_note" id="11008" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <input type="text"/>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>11</values>
                        <op>and</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="STARTWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 11 where value like '!!p!!%']]></main>
            </query>
            <query for="ENDWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 11 where value like '%!!p!!']]></main>
            </query>
            <query for="EXACT">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 11 where value like '!!p!!']]></main>
            </query>
            <query for="ISEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 11 where value is null and authorities.type_object = 10]]></main>
            </query>
            <query for="ISNOTEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 11 where value is not null and authorities.type_object = 10]]></main>
            </query>
        </field>
        <field group="11" title="msg:search_extended_skos_concepts_example" id="11009" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <input type="text"/>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>12</values>
                        <op>and</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="STARTWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 12 where value like '!!p!!%']]></main>
            </query>
            <query for="ENDWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 12 where value like '%!!p!!']]></main>
            </query>
            <query for="EXACT">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 12 where value like '!!p!!']]></main>
            </query>
            <query for="ISEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 12 where value is null and authorities.type_object = 10]]></main>
            </query>
            <query for="ISNOTEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 12 where value is not null and authorities.type_object = 10]]></main>
            </query>
        </field>
        <field group="11" title="msg:search_extended_skos_concepts_history_note" id="11010" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <input type="text"/>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>13</values>
                        <op>and</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="STARTWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 13 where value like '!!p!!%']]></main>
            </query>
            <query for="ENDWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 13 where value like '%!!p!!']]></main>
            </query>
            <query for="EXACT">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 13 where value like '!!p!!']]></main>
            </query>
            <query for="ISEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 13 where value is null and authorities.type_object = 10]]></main>
            </query>
            <query for="ISNOTEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 13 where value is not null and authorities.type_object = 10]]></main>
            </query>
        </field>
        <field group="11" title="msg:search_extended_skos_concepts_scope_note" id="11011" >
            <var name="thesaurus_concepts_active" visibility="yes">
                <value visibility="no">0</value>
            </var>
            <input type="text"/>
            <query for="BOOLEAN" wordSearch="yes">
                <class type="concepts">
                    <fieldrestrict>
                        <field>code_champ</field>
                        <values>14</values>
                        <op>and</op>
                    </fieldrestrict>
                </class>
            </query>
            <query for="STARTWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 14 where value like '!!p!!%']]></main>
            </query>
            <query for="ENDWITH">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 14 where value like '%!!p!!']]></main>
            </query>
            <query for="EXACT">
                <main><![CDATA[select distinct id_authority from authorities join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and authorities.type_object = 10 and skos_fields_global_index.code_champ = 14 where value like '!!p!!']]></main>
            </query>
            <query for="ISEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 14 where value is null and authorities.type_object = 10]]></main>
            </query>
            <query for="ISNOTEMPTY">
                <main><![CDATA[select distinct id_authority from authorities left join skos_fields_global_index on skos_fields_global_index.id_item = authorities.num_object and code_champ = 14 where value is not null and authorities.type_object = 10]]></main>
            </query>
        </field>        
		<field group="11" title="msg:map_emprise" id="78">
			<var name="pmb_map_activate" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="map"/>
			<query for="CONTAINS">
				<main>select distinct id_authority from authorities left join map_emprises on map_emprise_type = 10 and contains(geomfromtext('!!p!!'),map_emprise_data) = 1 where authorities.type_object = 10 and map_emprise_obj_num = authorities.num_object</main>
			</query>
			<query for="AERASUP">
				<main>select distinct id_authority from authorities left join map_emprises on map_emprise_type = 10 and Area((map_emprise_data)) &gt; Area(geomfromtext('!!p!!')) where authorities.type_object = 10 and map_emprise_obj_num = authorities.num_object</main>
			</query>
			<query for="AERAINF">
				<main>select distinct id_authority from authorities left join map_emprises on map_emprise_type = 10 and Area((map_emprise_data)) &lt; Area(geomfromtext('!!p!!')) where authorities.type_object = 10 and map_emprise_obj_num = authorities.num_object</main>
			</query>
			<query for="INTERSECTS">
				<main>select distinct id_authority from authorities left join map_emprises on map_emprise_type = 10 and intersects(geomfromtext('!!p!!'),map_emprise_data) = 1 where authorities.type_object = 10 and map_emprise_obj_num = authorities.num_object</main>
			</query>
			<query for="ISEMPTY">
				<main>select distinct id_authority from authorities where authorities.type_object = 10 and authorities.num_object not in (select distinct map_emprise_obj_num from map_emprises where map_emprise_type=10)</main>
			</query>
			<query for="ISNOTEMPTY">
				<main>select distinct id_authority from authorities left join map_emprises on map_emprise_type = 10  where authorities.type_object = 10 and map_emprise_obj_num = authorities.num_object</main>
			</query>
		</field>
	</fixedFields>
	
	<dynamicFields>
		<fieldType group="1" type="author" prefix="authors">
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id where !!multiple_term!!]]></main>
					<multipleTerm>author_custom_champ=!!field!! and author_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id where !!multiple_term!!]]></main>
					<multipleTerm>author_custom_champ=!!field!! and author_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id
						where author_custom_champ=!!field!! and author_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_small_text like '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>			
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_small_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 left join author_custom_values on author_custom_origine=author_id 
						and author_custom_champ=!!field!! where (author_custom_small_text='' or author_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id where !!multiple_term!!]]></main>
					<multipleTerm>author_custom_champ=!!field!! and author_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id where !!multiple_term!!]]></main>
					<multipleTerm>author_custom_champ=!!field!! and author_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_text like '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 left join author_custom_values on author_custom_origine=author_id 
						and author_custom_champ=!!field!! where (author_custom_text='' or author_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_integer like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 left join author_custom_values on author_custom_origine=author_id 
						and author_custom_champ=!!field!! where (author_custom_integer='' or author_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_float like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 left join author_custom_values on author_custom_origine=author_id 
						and author_custom_champ=!!field!! where (author_custom_float='' or author_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_date like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and WEEK(author_custom_date,1) = WEEK(NOW()) and YEAR(author_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and MONTH(author_custom_date) = MONTH(NOW()) and YEAR(author_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(author_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and YEAR(author_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 left join author_custom_values on author_custom_origine=author_id 
						and author_custom_champ=!!field!! where (author_custom_date='' or author_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and author_custom_date != '']]></main>
				</query>		
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authors on authors.author_id=authorities.num_object and authorities.type_object = 1 join author_custom_values on author_custom_origine=author_id 
						where author_custom_champ=!!field!! and 
						if('!!p!!', author_custom_date >= '!!p!!', 1) and if('!!p1!!', author_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		<fieldType group="2" type="categ" prefix="categories">
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud where !!multiple_term!!]]></main>
					<multipleTerm>categ_custom_champ=!!field!! and categ_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud where !!multiple_term!!]]></main>
					<multipleTerm>categ_custom_champ=!!field!! and categ_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud
						where categ_custom_champ=!!field!! and categ_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_small_text like '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>					
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_small_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 left join categ_custom_values on categ_custom_origine=id_noeud 
						and categ_custom_champ=!!field!! where (categ_custom_small_text='' or categ_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud where !!multiple_term!!]]></main>
					<multipleTerm>categ_custom_champ=!!field!! and categ_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud where !!multiple_term!!]]></main>
					<multipleTerm>categ_custom_champ=!!field!! and categ_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_text like '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 left join categ_custom_values on categ_custom_origine=id_noeud 
						and categ_custom_champ=!!field!! where (categ_custom_text='' or categ_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_integer like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 left join categ_custom_values on categ_custom_origine=id_noeud 
						and categ_custom_champ=!!field!! where (categ_custom_integer='' or categ_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_float like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 left join categ_custom_values on categ_custom_origine=id_noeud 
						and categ_custom_champ=!!field!! where (categ_custom_float='' or categ_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_date like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and WEEK(categ_custom_date,1) = WEEK(NOW()) and YEAR(categ_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and MONTH(categ_custom_date) = MONTH(NOW()) and YEAR(categ_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(categ_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and YEAR(categ_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 left join categ_custom_values on categ_custom_origine=id_noeud 
						and categ_custom_champ=!!field!! where (categ_custom_date='' or categ_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and categ_custom_date != '']]></main>
				</query>		
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join noeuds on noeuds.id_noeud=authorities.num_object and authorities.type_object = 2 join categ_custom_values on categ_custom_origine=id_noeud 
						where categ_custom_champ=!!field!! and 
						if('!!p!!', categ_custom_date >= '!!p!!', 1) and if('!!p1!!', categ_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		<fieldType group="3" type="publisher" prefix="publishers">
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id where !!multiple_term!!]]></main>
					<multipleTerm>publisher_custom_champ=!!field!! and publisher_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id where !!multiple_term!!]]></main>
					<multipleTerm>publisher_custom_champ=!!field!! and publisher_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id
						where publisher_custom_champ=!!field!! and publisher_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_small_text like '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>					
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_small_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 left join publisher_custom_values on publisher_custom_origine=ed_id 
						and publisher_custom_champ=!!field!! where (publisher_custom_small_text='' or publisher_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id where !!multiple_term!!]]></main>
					<multipleTerm>publisher_custom_champ=!!field!! and publisher_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id where !!multiple_term!!]]></main>
					<multipleTerm>publisher_custom_champ=!!field!! and publisher_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_text like '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 left join publisher_custom_values on publisher_custom_origine=ed_id 
						and publisher_custom_champ=!!field!! where (publisher_custom_text='' or publisher_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_integer like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 left join publisher_custom_values on publisher_custom_origine=ed_id 
						and publisher_custom_champ=!!field!! where (publisher_custom_integer='' or publisher_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_float like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 left join publisher_custom_values on publisher_custom_origine=ed_id 
						and publisher_custom_champ=!!field!! where (publisher_custom_float='' or publisher_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_date like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and WEEK(publisher_custom_date,1) = WEEK(NOW()) and YEAR(publisher_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and MONTH(publisher_custom_date) = MONTH(NOW()) and YEAR(publisher_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(publisher_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and YEAR(publisher_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 left join publisher_custom_values on publisher_custom_origine=ed_id 
						and publisher_custom_champ=!!field!! where (publisher_custom_date='' or publisher_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and publisher_custom_date != '']]></main>
				</query>	
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join publishers on publishers.ed_id=authorities.num_object and authorities.type_object = 3 join publisher_custom_values on publisher_custom_origine=ed_id 
						where publisher_custom_champ=!!field!! and 
						if('!!p!!', publisher_custom_date >= '!!p!!', 1) and if('!!p1!!', publisher_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		<fieldType group="4" type="collection" prefix="collections">
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id where !!multiple_term!!]]></main>
					<multipleTerm>collection_custom_champ=!!field!! and collection_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id where !!multiple_term!!]]></main>
					<multipleTerm>collection_custom_champ=!!field!! and collection_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id
						where collection_custom_champ=!!field!! and collection_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_small_text like '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_small_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 left join collection_custom_values on collection_custom_origine=collection_id 
						and collection_custom_champ=!!field!! where (collection_custom_small_text='' or collection_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id where !!multiple_term!!]]></main>
					<multipleTerm>collection_custom_champ=!!field!! and collection_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id where !!multiple_term!!]]></main>
					<multipleTerm>collection_custom_champ=!!field!! and collection_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_text like '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 left join collection_custom_values on collection_custom_origine=collection_id 
						and collection_custom_champ=!!field!! where (collection_custom_text='' or collection_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_integer like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 left join collection_custom_values on collection_custom_origine=collection_id 
						and collection_custom_champ=!!field!! where (collection_custom_integer='' or collection_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_float like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 left join collection_custom_values on collection_custom_origine=collection_id 
						and collection_custom_champ=!!field!! where (collection_custom_float='' or collection_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_date like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and WEEK(collection_custom_date,1) = WEEK(NOW()) and YEAR(collection_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and MONTH(collection_custom_date) = MONTH(NOW()) and YEAR(collection_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(collection_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and YEAR(collection_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 left join collection_custom_values on collection_custom_origine=collection_id 
						and collection_custom_champ=!!field!! where (collection_custom_date='' or collection_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and collection_custom_date != '']]></main>
				</query>	
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join collections on collections.collection_id=authorities.num_object and authorities.type_object = 4 join collection_custom_values on collection_custom_origine=collection_id 
						where collection_custom_champ=!!field!! and 
						if('!!p!!', collection_custom_date >= '!!p!!', 1) and if('!!p1!!', collection_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		<fieldType group="5" type="subcollection" prefix="subcollections">
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id where !!multiple_term!!]]></main>
					<multipleTerm>subcollection_custom_champ=!!field!! and subcollection_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id where !!multiple_term!!]]></main>
					<multipleTerm>subcollection_custom_champ=!!field!! and subcollection_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id
						where subcollection_custom_champ=!!field!! and subcollection_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_small_text like '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>					
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_small_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 left join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						and subcollection_custom_champ=!!field!! where (subcollection_custom_small_text='' or subcollection_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id where !!multiple_term!!]]></main>
					<multipleTerm>subcollection_custom_champ=!!field!! and subcollection_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id where !!multiple_term!!]]></main>
					<multipleTerm>subcollection_custom_champ=!!field!! and subcollection_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_text like '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 left join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						and subcollection_custom_champ=!!field!! where (subcollection_custom_text='' or subcollection_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_integer like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 left join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						and subcollection_custom_champ=!!field!! where (subcollection_custom_integer='' or subcollection_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_float like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 left join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						and subcollection_custom_champ=!!field!! where (subcollection_custom_float='' or subcollection_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_date like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and WEEK(subcollection_custom_date,1) = WEEK(NOW()) and YEAR(subcollection_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and MONTH(subcollection_custom_date) = MONTH(NOW()) and YEAR(subcollection_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(subcollection_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and YEAR(subcollection_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 left join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						and subcollection_custom_champ=!!field!! where (subcollection_custom_date='' or subcollection_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and subcollection_custom_date != '']]></main>
				</query>
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join sub_collections on sub_collections.sub_coll_id=authorities.num_object and authorities.type_object = 5 join subcollection_custom_values on subcollection_custom_origine=sub_coll_id 
						where subcollection_custom_champ=!!field!! and
						if('!!p!!', subcollection_custom_date >= '!!p!!', 1) and if('!!p1!!', subcollection_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		<fieldType group="6" type="serie" prefix="series">
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id where !!multiple_term!!]]></main>
					<multipleTerm>serie_custom_champ=!!field!! and serie_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id where !!multiple_term!!]]></main>
					<multipleTerm>serie_custom_champ=!!field!! and serie_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id
						where serie_custom_champ=!!field!! and serie_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_small_text like '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>					
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_small_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 left join serie_custom_values on serie_custom_origine=serie_id 
						and serie_custom_champ=!!field!! where (serie_custom_small_text='' or serie_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id where !!multiple_term!!]]></main>
					<multipleTerm>serie_custom_champ=!!field!! and serie_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id where !!multiple_term!!]]></main>
					<multipleTerm>serie_custom_champ=!!field!! and serie_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_text like '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 left join serie_custom_values on serie_custom_origine=serie_id 
						and serie_custom_champ=!!field!! where (serie_custom_text='' or serie_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_integer like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 left join serie_custom_values on serie_custom_origine=serie_id 
						and serie_custom_champ=!!field!! where (serie_custom_integer='' or serie_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_float like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 left join serie_custom_values on serie_custom_origine=serie_id 
						and serie_custom_champ=!!field!! where (serie_custom_float='' or serie_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_date like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and WEEK(serie_custom_date,1) = WEEK(NOW()) and YEAR(serie_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and MONTH(serie_custom_date) = MONTH(NOW()) and YEAR(serie_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(serie_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and YEAR(serie_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 left join serie_custom_values on serie_custom_origine=serie_id 
						and serie_custom_champ=!!field!! where (serie_custom_date='' or serie_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and serie_custom_date != '']]></main>
				</query>
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join series on series.serie_id=authorities.num_object and authorities.type_object = 6 join serie_custom_values on serie_custom_origine=serie_id 
						where serie_custom_champ=!!field!! and 
						if('!!p!!', serie_custom_date >= '!!p!!', 1) and if('!!p1!!', serie_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		<fieldType group="7" type="tu" prefix="tu">
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id where !!multiple_term!!]]></main>
					<multipleTerm>tu_custom_champ=!!field!! and tu_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id where !!multiple_term!!]]></main>
					<multipleTerm>tu_custom_champ=!!field!! and tu_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id
						where tu_custom_champ=!!field!! and tu_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_small_text like '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>					
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_small_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 left join tu_custom_values on tu_custom_origine=tu_id 
						and tu_custom_champ=!!field!! where (tu_custom_small_text='' or tu_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id where !!multiple_term!!]]></main>
					<multipleTerm>tu_custom_champ=!!field!! and tu_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id where !!multiple_term!!]]></main>
					<multipleTerm>tu_custom_champ=!!field!! and tu_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_text like '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 left join tu_custom_values on tu_custom_origine=tu_id 
						and tu_custom_champ=!!field!! where (tu_custom_text='' or tu_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_integer like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 left join tu_custom_values on tu_custom_origine=tu_id 
						and tu_custom_champ=!!field!! where (tu_custom_integer='' or tu_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_float like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 left join tu_custom_values on tu_custom_origine=tu_id 
						and tu_custom_champ=!!field!! where (tu_custom_float='' or tu_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_date like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and WEEK(tu_custom_date,1) = WEEK(NOW()) and YEAR(tu_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and MONTH(tu_custom_date) = MONTH(NOW()) and YEAR(tu_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(tu_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and YEAR(tu_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 left join tu_custom_values on tu_custom_origine=tu_id 
						and tu_custom_champ=!!field!! where (tu_custom_date='' or tu_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and tu_custom_date != '']]></main>
				</query>
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join titres_uniformes on titres_uniformes.tu_id=authorities.num_object and authorities.type_object = 7 join tu_custom_values on tu_custom_origine=tu_id 
						where tu_custom_champ=!!field!! and
						if('!!p!!', tu_custom_date >= '!!p!!', 1) and if('!!p1!!', tu_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		<fieldType group="8" type="indexint" prefix="indexint">
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id where !!multiple_term!!]]></main>
					<multipleTerm>indexint_custom_champ=!!field!! and indexint_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id where !!multiple_term!!]]></main>
					<multipleTerm>indexint_custom_champ=!!field!! and indexint_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id
						where indexint_custom_champ=!!field!! and indexint_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_small_text like '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>					
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_small_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 left join indexint_custom_values on indexint_custom_origine=indexint_id 
						and indexint_custom_champ=!!field!! where (indexint_custom_small_text='' or indexint_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id where !!multiple_term!!]]></main>
					<multipleTerm>indexint_custom_champ=!!field!! and indexint_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id where !!multiple_term!!]]></main>
					<multipleTerm>indexint_custom_champ=!!field!! and indexint_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_text like '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_text like '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 left join indexint_custom_values on indexint_custom_origine=indexint_id 
						and indexint_custom_champ=!!field!! where (indexint_custom_text='' or indexint_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_integer like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 left join indexint_custom_values on indexint_custom_origine=indexint_id 
						and indexint_custom_champ=!!field!! where (indexint_custom_integer='' or indexint_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_float like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 left join indexint_custom_values on indexint_custom_origine=indexint_id 
						and indexint_custom_champ=!!field!! where (indexint_custom_float='' or indexint_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_date like '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and WEEK(indexint_custom_date,1) = WEEK(NOW()) and YEAR(indexint_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and MONTH(indexint_custom_date) = MONTH(NOW()) and YEAR(indexint_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(indexint_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and YEAR(indexint_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 left join indexint_custom_values on indexint_custom_origine=indexint_id 
						and indexint_custom_champ=!!field!! where (indexint_custom_date='' or indexint_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and indexint_custom_date != '']]></main>
				</query>
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join indexint on indexint.indexint_id=authorities.num_object and authorities.type_object = 8 join indexint_custom_values on indexint_custom_origine=indexint_id 
						where indexint_custom_champ=!!field!! and
						if('!!p!!', indexint_custom_date >= '!!p!!', 1) and if('!!p1!!', indexint_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		 
		<fieldType type="authperso" prefix="a">
			<field dataType="all_fields" id="10">
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_authorities on authperso_authorities.id_authperso_authority=authorities.num_object and authorities.type_object = 9 WHERE authperso_index_infos_global like ' !!p!!%' AND authperso_authority_authperso_num = !!autperso_type_num!! ORDER BY authperso_index_infos_global]]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_authorities on authperso_authorities.id_authperso_authority=authorities.num_object and authorities.type_object = 9 WHERE authperso_index_infos_global like '%!!p!! ' AND authperso_authority_authperso_num = !!autperso_type_num!! ORDER BY authperso_index_infos_global]]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_authorities on authperso_authorities.id_authperso_authority=authorities.num_object and authorities.type_object = 9 WHERE authperso_index_infos_global like ' !!p!! ' AND authperso_authority_authperso_num = !!autperso_type_num!! ORDER BY authperso_index_infos_global]]></main>
				</query>
				<query for="CONTAINS" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_authorities on authperso_authorities.id_authperso_authority=authorities.num_object and authorities.type_object = 9 WHERE authperso_index_infos_global like ' %!!p!!% ' AND authperso_authority_authperso_num = !!autperso_type_num!! ORDER BY authperso_index_infos_global]]></main>
				</query>
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes">
					<main><![CDATA[select distinct id_authority from authorities join authperso_authorities on authperso_authorities.id_authperso_authority=authorities.num_object and authorities.type_object = 9 WHERE !!multiple_term!! AND authperso_authority_authperso_num = !!autperso_type_num!! ORDER BY authperso_index_infos_global]]></main>
					<multipleTerm>authperso_index_infos_global LIKE '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_authorities on authperso_authorities.id_authperso_authority=authorities.num_object and authorities.type_object = 9 WHERE !!multiple_term!! AND authperso_authority_authperso_num = !!autperso_type_num!! ORDER BY authperso_index_infos_global]]></main>
					<multipleTerm>authperso_index_infos_global LIKE '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>
				<query for="AUTHORITY">
					<main><![CDATA[SELECT DISTINCT id_authority from authorities WHERE authorities.num_object = '!!p!!' AND authorities.type_object = 9 ORDER BY 1]]></main>
				</query>
				<query for="BOOLEAN" wordSearch="yes">
					<class type="authperso">
					</class>
				</query>
			</field>
			<field dataType="small_text" id="1">			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9 where !!multiple_term!! and authperso_custom_champ=!!field!!]]></main>
					<multipleTerm>authperso_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth,date_flot">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9 where !!multiple_term!! and authperso_custom_champ=!!field!!]]></main>
					<multipleTerm>authperso_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth,date_flot" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_small_text = '!!p!!']]></main>
				 </query>	
				<query for="NEAR" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="LTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="GTEQ" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>
				<query for="BETWEEN" notAllowedFor="text,list,query_list,query_auth,date_box,comment,external,url,resolve,marclist,html,text_i18n,q_txt_i18n,date_inter">
				</query>					
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_small_text = '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities left join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						and authperso_custom_champ=!!field!! where (authperso_custom_small_text='' or authperso_custom_small_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_small_text != '']]></main>					  
				</query>
			</field>
			<field dataType="text" id="2">			    			    
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9 where !!multiple_term!! and authperso_custom_champ=!!field!!]]></main>
					<multipleTerm>authperso_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9 where !!multiple_term!! and authperso_custom_champ=!!field!!]]></main>
					<multipleTerm>authperso_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>				
				<query for="STARTWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list,marclist,query_auth" regDiacrit="no">
				    <main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_text = '!!p!!']]></main>
				 </query>				
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_text = '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities left join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						and authperso_custom_champ=!!field!! where (authperso_custom_text='' or authperso_custom_text is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_text != '']]></main>					  
				</query>
			</field>			
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_integer = '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities left join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						and authperso_custom_champ=!!field!! where (authperso_custom_integer='' or authperso_custom_integer is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_float = '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities left join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						and authperso_custom_champ=!!field!! where (authperso_custom_float='' or authperso_custom_float is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_date = '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_date >= '!!p!!']]></main>
				</query>
				<query for="LESS_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_date > DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="MORE_THAN_DAYS">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_date < DATE_SUB(NOW(), INTERVAL !!p!! DAY)]]></main>
				</query>
				<query for="THIS_WEEK">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and WEEK(authperso_custom_date,1) = WEEK(NOW()) and YEAR(authperso_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="THIS_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and MONTH(authperso_custom_date) = MONTH(NOW()) and YEAR(authperso_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="LAST_MONTH">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and PERIOD_DIFF(DATE_FORMAT(NOW(), '%Y%m'), DATE_FORMAT(authperso_custom_date, '%Y%m')) = 1]]></main>
				</query>
				<query for="THIS_YEAR">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and YEAR(authperso_custom_date) = YEAR(NOW())]]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[select distinct id_authority from authorities left join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						and authperso_custom_champ=!!field!! where (authperso_custom_date='' or authperso_custom_date is null)]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and authperso_custom_date != '']]></main>
				</query>
				<query for="BETWEEN" notAllowedFor="list,query_list,marclist,query_auth">
					<main><![CDATA[select distinct id_authority from authorities join authperso_custom_values on authperso_custom_values.authperso_custom_origine=authorities.num_object and authorities.type_object = 9
						where authperso_custom_champ=!!field!! and
						if('!!p!!', authperso_custom_date >= '!!p!!', 1) and if('!!p1!!', authperso_custom_date <= '!!p1!!', 1)]]></main>
				</query>
			</field>
		</fieldType>
		 
	</dynamicFields>
	
	<specialFields>
		<field group="9" type="combine" title="msg:histo_title" id="1" visible="no"/>
		<field group="9" type="openurl" title="msg:special_search_openurl" id="2" delnotallowed="yes" opacVisibility="no" visible="no"/>
		<field group="9" type="authorities_facet" title="msg:search_facette" id="3" opacVisibility="no" visible="no"/>
		<field group="9" type="simple_search" title="msg:search_persopac_table_humanquery" id="4" opacVisibility="no" visible="no"/>
		<field group="7" type="tu_qualified_author" title="msg:search_extended_titre_uniforme_qualified_author" id="5" />
		<field group="7" type="tu_qualified_interpreter" title="msg:search_extended_titre_uniforme_qualified_interpreter" id="6" />
		<field type="search_segment" title="msg:search_segment" id="10" opacVisibility="no" visible="no"/>
	</specialFields>
	
	<operators>
		<operator name="BOOLEAN">msg:expr_bool_query</operator>
		<operator name="CONTAINS">msg:203</operator>
		<operator name="CONTAINS_ALL">msg:contient_tous_mots_query</operator>
		<operator name="CONTAINS_AT_LEAST">msg:contient_plus_un_mot_query</operator>
		<operator name="STARTWITH">msg:commence_par_query</operator>
		<operator name="ENDWITH">msg:finit_par_query</operator>
		<operator name="EXACT">msg:exactement_comme_query</operator>
		<operator name="EQ">msg:eq_query</operator>
		<operator name="GT">msg:gt_query</operator>
		<operator name="LT">msg:lt_query</operator>
		<operator name="GTEQ">msg:gteq_query</operator>
		<operator name="LTEQ">msg:lteq_query</operator>
		<operator name="ISEMPTY" emptyAllowed="yes">msg:est_vide_query</operator>
		<operator name="ISNOTEMPTY" emptyAllowed="yes">msg:pas_vide_query</operator>
		<operator name="AUTHORITY">msg:authority_query</operator>
		<operator name="AERASUP">msg:map_multisearch_aerasup</operator>
		<operator name="AERAINF">msg:map_multisearch_aerainf</operator>
		<operator name="INTERSECTS">msg:map_multisearch_intersects</operator>
		<operator name="BETWEEN">msg:search_between_query</operator>
		<operator name="NEAR">msg:parperso_option_duration_type0</operator>
		<operator name="LESS_THAN_DAYS">msg:less_than_days_query</operator>
		<operator name="MORE_THAN_DAYS">msg:more_than_days_query</operator>
		<operator name="THIS_WEEK" emptyAllowed="yes">msg:this_week_query</operator>
		<operator name="LAST_WEEK" emptyAllowed="yes">msg:last_week_query</operator>
		<operator name="THIS_MONTH" emptyAllowed="yes">msg:this_month_query</operator>
		<operator name="LAST_MONTH" emptyAllowed="yes">msg:last_month_query</operator>
		<operator name="THIS_YEAR" emptyAllowed="yes">msg:this_year_query</operator>
	</operators>
	<!-- Les groupes sont associés aux champs (fields) et permettent d'amener une notion de classement -->
	<groups>
		<group id="1">
			<order>1</order>
			<label>msg:search_extended_authors</label>
			<objects_type>authors</objects_type>
		</group>
		<group id="2">
			<order>2</order>
			<label>msg:search_extended_categories</label>
			<objects_type>categories</objects_type>
		</group>
		<group id="3">
			<order>3</order>
			<label>msg:search_extended_publishers</label>
			<objects_type>publishers</objects_type>
		</group>
		<group id="4">
			<order>4</order>
			<label>msg:search_extended_collections</label>
			<objects_type>collections</objects_type>
		</group>
		<group id="5">
			<order>5</order>
			<label>msg:search_extended_subcollections</label>
			<objects_type>subcollections</objects_type>
		</group>
		<group id="6">
			<order>6</order>
			<label>msg:search_extended_series</label>
			<objects_type>series</objects_type>
		</group>
		<group id="7">
			<order>7</order>
			<label>msg:search_extended_titres_uniformes</label>
			<objects_type>titres_uniformes</objects_type>
		</group>
		<group id="8">
			<order>8</order>
			<label>msg:search_extended_indexint</label>
			<objects_type>indexint</objects_type>
		</group>
		<group id="9">
			<order>10</order>
			<label>msg:recherches_query</label>
			<objects_type>authorities</objects_type>
		</group>
		<group id="10">
			<order>11</order>
			<label>msg:search_extended_common</label>
			<objects_type>authorities</objects_type>
		</group>
		<group id="11">
			<order>9</order>
			<label>msg:search_extended_skos_concept</label>
			<objects_type>concepts</objects_type>
		</group>
	</groups>
</pmbfields>